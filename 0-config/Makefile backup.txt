# TechNexion flashing files
TN_UUU_DIR = 10-tn-uuu
TN_UUU_REL = tn-uuu_1.4.77_20210421
TN_UUU_FILE = imx-mfg-uuu-tool-20210421.zip
$(TN_UUU_DIR):
	if [ ! -d $(TN_UUU_DIR) ]; then \
		wget https://github.com/TechNexion/imx-mfgtools-tn/releases/download/$(TN_UUU_REL)/$(TN_UUU_FILE) && \
		unzip ./$(TN_UUU_FILE) && \
		rm $(TN_UUU_FILE) && \
		mv imx-mfg-uuu-tool $(TN_UUU_DIR); \
	fi

BOOT_LINUX = boot-linux
$(BOOT_LINUX):
	cd $(NXP_UUU_DIR) && \
	sudo build/uuu/uuu -b ../$(TN_UUU_DIR)/multiboard/emmc_img.auto \
	../$(TN_UUU_DIR)/$(TN_UUU_MODEL)/$(TN_UUU_TYPE)-$(TN_UUU_MODEL)/$(TN_UUU_TYPE)-$(TN_UUU_MODEL)-flash.bin \
	../$(DISKIMG_DIR)/disk.img